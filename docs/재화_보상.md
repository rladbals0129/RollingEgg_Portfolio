# 굴러가요 알(가제) 재화/보상 기획서

**부제**: 게임 내 보상 및 재화 종류/사용처 정의  
**기획**: 김지영  
**작성 일자**: 25.11.04  
**버전**: 1.2

## Document History

| 버전 | 일자 | 내용 | 작성자 |
| :--- | :--- | :--- | :--- |
| V1.0 | 2025-09-23 | 최초 작성<br>- 재화 종류 정의, 획득처/사용처 정의 | 김지영 |
| V1.1 | 2025-11-02 | 변경된 게임 방향성에 맞춰 보상 획득 구조 수정 | 김지영 |
| V1.2 | 2025-11-04 | 콤보 보너스 점수 2종으로 분리(배율, 최대 횟수) - 12P<br>판정에 따른 PC 체력 증감 규칙 삭제 - 9P | 김지영 |

---

## 목차
1. 재화 시스템 개요
2. 보상 계산 시스템
3. 진행도 시스템
4. 재화 소비 시스템
5. 데이터 테이블
6. 리소스 요청

---

## 1. 재화 시스템 개요

### 1.1. 재화 타입 정의

| 재화 타입 | 타입 별 기본 규칙 | 획득 방법 | 사용처 |
| :--- | :--- | :--- | :--- |
| **공용 육성 재화** | • 알의 진화 스텟 획득을 위한 육성에 필요한 재화<br>• 모든 알의 내면 탐구(러닝 게임) 플레이 시 특정 색상이 아닌 선을 지나간 길이, 클리어 여부, 클리어 타임에 따라 획득한다.<br>• 모든 알의 육성 행동에 사용할 수 있다.<br>• 일정량의 공용 육성 재화를 사용하여 1회의 육성 행동 진행 시, 육성 행동 별 지정된 진화 스텟을 획득한다. | 1. 자동 달리기로 지나간 일반 선의 길이에 따라 획득<br>2. 게임 클리어 시 n배 획득<br>3. 클리어 타임 별 추가 획득<br>4. 중복 진화체 획득 시 재화 치환 | 모든 알 육성에 사용 |
| **전용 육성 재화** | • 특정한 알의 진화 스텟 획득을 위한 육성에 필요한 재화<br>• 특정한 알의 내면 탐구(러닝 게임) 플레이 시 특정 색상인 선을 지나간 길이에 따라 획득한다.<br>• 특정한 알의 육성 행동에 사용할 수 있다.<br>(예: 노란 알 전용 재화는 노란 알의 육성 행동에만 사용할 수 있다.)<br>• 일정량의 전용 육성 재화를 사용하여 1회의 육성 행동 진행 시, 육성 행동 별 지정된 진화 스텟을 획득한다. | 1. 특정 알로 게임 진행 시 지나간 특정 색상 선의 길이에 따라 획득<br>2. 중복 진화체 획득 시 재화 치환 | 특정 알 육성에만 사용 |

> **Note**: 경험치 개념 삭제

### 1.2. 재화 종류 및 정의
* **[공용 재화]**: 알 육성 공용 재화
* **[알 별 육성 전용 재화]**:
    * 노란 알 재화
    * 파란 알 재화
    * 검정 알 재화
    * 빨강 알 재화
    * 하양 알 재화

### 1.3. 재화 순환 구조
* **러닝 게임 (재화 획득) → 육성 게임 (재화 소비)**
    * 러닝 게임 플레이로 재화를 획득하여 육성 게임 내 육성 행동으로 재화를 소비한다.
    * 육성 게임에서 육성 행동 n회 후 진화를 할 수 있다.
    * 중복 진화체 획득 시 해당 알의 전용 재화를 일정량 획득한다.

---

## 2. 보상 계산 시스템

### 2.1. 보상 시스템
* 러닝 플레이 중 누적된 판정에 따라 점수와 등급을 산정하여 스테이지 클리어 시 공용, 전용 재화를 획득하는 시스템
* 보상은 클리어 시에만 획득한다.
* 리듬 게임처럼 색상 전환 타이밍에 따라 점수를 획득할 수 있다.

### 2.2. 보상 획득 플로우
1. **러닝 플레이**: 색상 전환 타이밍 정확도에 따라 판정 누적
2. **판정**: 5등급 (PERFECT, GREAT, GOOD, BAD, MISS)
3. **점수 계산**: 기본 점수 + 체력 보너스 + 콤보
4. **등급 산정**: 점수 구간에 따라 등급 산정 F~SS (8단계)
5. **재화 지급**: 맵 클리어 시 점수=공용재화, 등급=전용 재화로 지급

### 2.3. 판정 시스템
* **판정 기준**: PC의 색상 변경 지점과 교차로까지의 거리에 따라 판정
    * PC와 교차로의 거리가 1.5가 되는 순간부터 세이프 존의 크기가 줄어드는 연출 출력
    * PC가 교차로 지점에 정확히 도달했을 때 세이프 존의 크기와 PC의 크기가 동일해진다.
* **계산 방식**: PC가 색상을 변경한 지점과 교차로의 거리를 계산하여 판정한다. (거리는 스플라인 툴의 거리 기준)
* **점수 누적**: 판정에 따라 점수를 누적한다. (체력 증감은 삭제, PC와 지나가는 색상이 다를 경우 천천히 감소하는 기능을 유지함으로 중복 차감 없도록 삭제)

**판정 기준표**

| 판정 | 거리 범위 (스플라인 툴 기준) | 판정 시 점수 | 판정 시 체력 변화 |
| :--- | :--- | :--- | :--- |
| MISS | 1.1 ~ 1.5 | 0 | -50 |
| BAD | 0.8 ~ 1 | 1 | -20 |
| GOOD | 0.6 ~ 0.7 | 2 | -5 |
| GREAT | 0.4 ~ 0.5 | 3 | 0 |
| PERFECT | 0 ~ 0.3 | 4 | (기존 수치 삭제됨) |

### 2.4. 체력 보너스
* 클리어 시 남은 체력 = 체력 보너스 점수가 된다. (예: 클리어 시 남은 체력 20% = 20점)
* **체력 증감**: 최초 시작 시 알 별 기본 체력으로 시작, PC와 선 색상이 다를 경우 감소 속도에 맞춰 감소
    * PC별 기본 체력: PC 테이블 `gaugeMax`
    * PC와 선 색상이 다를 경우 HP 감소 속도: PC 테이블 `mismatchGaugeReduce` (단위: 초)

### 2.5. 점수 계산
* 점수는 기본 점수와 남은 체력 보너스, 콤보 보너스가 존재한다.
* **기본 점수**: 판정에 따른 점수를 누적하여 클리어 시 점수를 합산한다.

**판정별 점수**

| 판정 | 점수 |
| :--- | :--- |
| PERFECT | 5 |
| GREAT | 3 |
| GOOD | 2 |
| BAD | 1 |
| MISS | 0 |

### 2.6. 콤보 보너스
* 퍼펙트, 그레이트, 굳 판정을 연속한 횟수가 콤보 횟수가 된다. (배드, 미스는 콤보 횟수를 초기화한다.)
* 콤보 보너스는 2가지로 적용한다.
    1. **콤보 배율**: 현재 콤보 유지 횟수 구간에 따라 PERFECT, GREAT 판정 점수에 배율로 적용
        * GOOD 판정은 콤보 횟수는 유지하지만 배율 적용 없음
        * 계산식: `PERFECT/GREAT 점수 * (100% + 콤보 구간별 배율)` (소수점 이하 버림)
    2. **최대 콤보 횟수에 따른 보너스 점수**: 최대 콤보 기록 = 추가 점수 (예: 최대 콤보 30 = 30점 추가)

**콤보 구간별 배율 테이블**

| id | min (횟수) | max (횟수) | rate (%) |
| :--- | :--- | :--- | :--- |
| 1 | 1 | 9 | 10 |
| 2 | 10 | 19 | 20 |
| 3 | 20 | 29 | 30 |
| 4 | 30 | 39 | 40 |
| 5 | 40 | 49 | 50 |
| 6 | 50 | 59 | 60 |
| 7 | 60 | 299 | 70 |










