# 도감 시스템 (Collection System)

## 5.1. 도감 개요

### 목적
- 진화를 통해 획득한 진화체 외형을 도감에 등록
- 재화 획득 버프를 영구 적용
- 모든 진화체를 모으는 것을 최종 목표로 제공
- 중복 진화체 획득 시 재화로 치환

---

## 5.2. 도감 내 표시 정보

### 획득한 진화체
- ✅ 진화체 이미지 (컬러)
- ✅ 진화체 이름
- ✅ 진화체 설명

### 미획득 진화체
- ❓ 진화체 그림자 (실루엣)
- ❓ 이름: `???`
- ❓ 설명: `획득하지 못한 진화체`

> 📋 **참고**: 도감 내 표시 정보는 테이블로 관리하며, 중복 진화체 획득 시 치환 재화량도 테이블에서 지정

---

## 5.3. 도감 테이블 (EvolvedForm Table)
- SO로 구현되어 있음
---

## 5.4. 도감 버프 시스템

### 버프 종류 (3종)

#### 1️⃣ 공용 재화 획득량 증가
```
최종 획득량 = 러닝 획득 공용 재화량 × (100% + 버프 수치)
```

#### 2️⃣ 전용 재화 획득량 증가
```
최종 획득량 = 러닝 획득 전용 재화량 × (100% + 버프 수치)
```

#### 3️⃣ 중복 진화체 획득 시 지급 재화 증가
```
최종 획득량 = 도감 테이블 중복 재화량 × (100% + 버프 수치)
```

### 💡 버프 적용 규칙
- 버프 적용 후 재화량은 **소수점 이하 삭제** 후 지급
- 도감 등록 시 영구 적용

### 📊 예시 계산

**케이스 1: 러닝 보상**
```
러닝 보상: 공용 재화 100개, 전용 재화 100개
현재 버프: 공용 15%, 전용 10%

→ 공용 재화: 100 × (100% + 15%) = 115개 획득
→ 전용 재화: 100 × (100% + 10%) = 110개 획득
```

**케이스 2: 중복 진화체**
```
중복 진화체 치환 재화: 20개
현재 버프: 중복 진화체 재화 20%

→ 전용 재화: 20 × (100% + 20%) = 24개 획득
```

---

## 5.5. 도감 UI 레이아웃

```
- 예시일 뿐 실제는 첨부한 이미지를 확인, 만약 이미지가 없다면 사용자에게 요청
┌─────────────────────────────────────────────────────────┐
│  [◀ 돌아가기]                              [⚙️]  [✕]    │
├─────────────────────────────────────────────────────────┤
│                                                           │
│  ┌────┬────┬────┬────┬────┐                            │
│  │파란│빨간│하얀│깜장│노란│   ← 알 카테고리 탭          │
│  │ 알 │ 알 │ 알 │ 알 │ 알 │     (선택된 탭 강조)       │
│  └────┴────┴────┴────┴────┘                            │
│                                                           │
│  ╔═══════════════════════════════════════════════════╗  │
│  ║  [진화체 목록 - 스크롤 가능]                       ║  │
│  ║                                                     ║  │
│  ║  ┌─────────────────┐  ┌─────────────────┐       ║  │
│  ║  │    🧑‍🍳           │  │    🎨              │       ║  │
│  ║  │                   │  │                   │       ║  │
│  ║  │   **요리사**      │  │   **화가**        │       ║  │
│  ║  │                   │  │                   │       ║  │
│  ║  │  파란알을 키웠더  │  │  파란알을 키웠더  │       ║  │
│  ║  │  니 요리사가 되었 │  │  니 화가가 되었다 │       ║  │
│  ║  │  다.              │  │  .                │       ║  │
│  ║  │                   │  │                   │       ║  │
│  ║  │  [🔺 획득량 증가   │  │  [🔺 획득량 증가   │       ║  │
│  ║  │      5%]          │  │      5%]          │       ║  │
│  ║  └─────────────────┘  └─────────────────┘       ║  │
│  ║                                                     ║  │
│  ║  ┌─────────────────┐                            ║  │
│  ║  │    ▓▓▓            │  ← 미획득 진화체           ║  │
│  ║  │    ▓▓▓            │    (실루엣만 표시)         ║  │
│  ║  │    ▓▓▓            │                            ║  │
│  ║  │                   │                            ║  │
│  ║  │   **???**         │                            ║  │
│  ║  │                   │                            ║  │
│  ║  │  아직 획득하지    │                            ║  │
│  ║  │  못한 진화체      │                            ║  │
│  ║  │  입니다.          │                            ║  │
│  ║  └─────────────────┘                            ║  │
│  ║                                                     ║  │
│  ╚═══════════════════════════════════════════════════╝  │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

### UI 구성 요소

#### 상단 영역
- **◀ 돌아가기**: 로비로 이동
- **⚙️ 옵션**: 설정 팝업 (키 설정, 게임 종료)
- **✕ 닫기**: 현재 팝업 닫기

#### 카테고리 탭
- 파란 알 / 빨간 알 / 하얀 알 / 깜장 알 / 노란 알
- 선택된 카테고리 강조 표시

#### 진화체 카드 (획득)
```
┌─────────────────┐
│   [진화체 이미지] │
│                   │
│   진화체 명칭     │
│                   │
│   설명 텍스트     │
│                   │
│   [버프 툴팁]     │  ← 마우스 호버 시 표시
└─────────────────┘
```

#### 진화체 카드 (미획득)
```
┌─────────────────┐
│   ▓▓▓▓▓▓▓        │  ← 검정색 실루엣
│   ▓▓▓▓▓          │
│   ▓▓▓▓▓▓         │
│                   │
│   ???             │
│                   │
│   아직 획득하지   │
│   못한 진화체     │
│   입니다.         │
└─────────────────┘
```

---

## 5.6. 도감 진입 플로우

```
[육성 화면]
    ↓
[도감 버튼 클릭]
    ↓
[도감 UI 출력]
    ↓
[카테고리 선택] → [해당 알의 진화체 목록 표시]
    ↓
[진화체 아이콘 호버] → [버프 툴팁 표시]
```

### 플로우 상세

1. **육성 화면 진입**
   - 러닝 완료 후 육성 화면 접근
   - 상단에 도감 버튼 존재

2. **도감 UI 출력**
   - 기본적으로 첫 번째 카테고리(파란 알) 선택 상태
   - 스크롤 가능한 진화체 목록 표시

3. **진화체 정보 확인**
   - 획득: 이미지, 이름, 설명, 버프 표시
   - 미획득: 실루엣, ???, 안내 메시지

4. **툴팁 상호작용**
   - 진화체 아이콘에 마우스 호버
   - 버프 내용 툴팁으로 표시
   - 예: "획득량 증가 5%"

---

## 📝 기획 노트

> **재화량 밸런싱 제안**
> 
> 재화량 조절은 다음 방법으로 용이하게 밸런싱 가능:
> - 기본 재화 지급량 조절
> - 육성 행동 필요 재화량 조절
> - 획득 재화 증가 버프 기능
> 
> 따라서 도감 등록 시 **영구 버프 시스템**을 통해 장기 플레이 동기 부여 권장

---

## 🎯 설계 의도

1. **수집의 재미**: 다양한 진화체를 모으는 장기 목표 제공
2. **성장 보상**: 도감 등록 시 영구 버프로 실질적 혜택
3. **시각적 피드백**: 미획득 실루엣으로 목표 가시화
4. **중복 보상**: 중복 진화체도 재화로 치환하여 손해 없는 시스템

---

*문서 작성: 김지영 | 버전: 1.1 | 작성일: 2025-10-29*